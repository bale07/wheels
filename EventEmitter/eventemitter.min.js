!function(t){"define"in window?define(function(e,n,i){i.exports=t()}):window.EventEmitter=t()}(function(){"use strict";function t(){this.eventList={}}var e=Array.prototype.slice,n=t.prototype;return n.addListener=n.on=function(t,e){return e instanceof Function?(t+="",this.eventList[t]=this.eventList[t]||[],this.eventList[t].push({method:e}),!0):void 0},n.once=function(t,e){if(this.on(t,e)){var n=this.eventList[t];n[n.length-1].once=!0}},n.removeListener=n.unon=function(t,e,n){if(e instanceof Function){t+="";var i;if(i=this.eventList[t])for(var s=0;s<i.length;s++)if(e==i[s].method){i.splice(s,1);break}}},n.removeAllListener=function(t){t?(t+="",this.eventList[t]&&delete this.eventList[t]):this.eventList={}},n.emit=function(t){t+="";var n;if(n=this.eventList[t])for(var i=0;i<n.length;i++)n[i].method.apply(this,e.call(arguments,1,arguments.length)),n[i].once&&(n.splice(i,1),i--)},t});